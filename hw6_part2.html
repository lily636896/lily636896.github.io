<!DOCTYPE html>
<html>
<head>
    <title>Homework 6 - Part 2: Character Counting</title>
    <style>
        .error { color: red; }
    </style>
</head>
<body>
    <h1>Homework 6 - Part 2: Character Counting</h1>
    <form id="textForm">
        <label for="longText">Enter Long Content:</label>
        <textarea id="longText" rows="4" cols="50"></textarea><br><br>

        <label for="characterInput">Enter a Single Character:</label>
        <input type="text" id="characterInput" maxlength="1"><br><br>

        <button type="button" onclick="countCharacter()">Submit</button>
        <button type="reset">Clear</button>
    </form>
    <div id="output"></div>
    <a href="hw6.html">Back to Homework 6 Main Page</a>

    <script>
        function countCharacter() {
            var longText = document.getElementById("longText").value;
            var character = document.getElementById("characterInput").value;
            var output = document.getElementById("output");

            // Reset output
            output.textContent = '';

            // Validate character input
            if (character.length !== 1) {
                output.innerHTML = "<span class='error'>Please enter a single character.</span>";
                return;
            }

            // Count occurrences (case-insensitive)
            var count = (longText.match(new RegExp(character, "gi")) || []).length;

            // Display results or open a new window if character not found
            if (count > 0) {
                output.textContent = `The character "${character}" shows up ${count} times in the text.`;
            } else {
                var newWindow = window.open("", "", "width=300,height=100");
                newWindow.document.write(`Search character "${character}" not found in the content you typed.`);
                newWindow.document.close();
            }
        }
    </script>
</body>
</html>
